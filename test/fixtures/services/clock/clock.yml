version: "3.8"

configs:
  clock-config:
    contents: $${services.clock.environment.CLOCK_TZ}

services:
  clock:
    environment:
      CLOCK_TZ: America/Dallas

    image: si/clock:v1.0.1

    logging:
      driver: gelf
      options:
        gelf-address: "udp://gra2.logs.ovh.com:2202"
        env: X-OVH-TOKEN
        tag: clock

    deploy:
      replicas: 1
      placement:
        constraints:
          - node.role == manager

